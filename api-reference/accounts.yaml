{
  "openapi": "3.0.0",
  "info": { "title": "Dakota API's", "version": "1.0.0" },
  "servers": [{ "url": "https://marketplace-as-a-service.herokuapp.com/" }],
  "paths":
    {
      "/index.php/api/oauth2":
        {
          "post":
            {
              "tags": ["Authentication"],
              "summary": "Authentication",
              "requestBody":
                {
                  "content":
                    {
                      "application/json":
                        {
                          "schema":
                            {
                              "type": "object",
                              "example":
                                {
                                  "username": "swagger01",
                                  "grant_type": "password",
                                  "password": "swagger01"
                                },
                            },
                        },
                    },
                },
              "responses":
                {
                  "200":
                    {
                      "description": "Successful response",
                      "content":
                        {
                          "application/json":
                            {
                              "schema":
                                {
                                  "type": "object",
                                  "properties":
                                    {
                                      "access_token":
                                        {
                                          "type": "string",
                                          "description": "The access token to authenticate requests.",
                                        },
                                      "expires_in":
                                        {
                                          "type": "integer",
                                          "description": "Time in seconds until the access token expires.",
                                        },
                                      "token_type":
                                        {
                                          "type": "string",
                                          "description": "The type of the token (usually 'bearer').",
                                        },
                                      "refresh_token":
                                        {
                                          "type": "string",
                                          "description": "The refresh token used to obtain a new access token.",
                                        },
                                      "refresh_expires_in":
                                        {
                                          "type": "integer",
                                          "description": "Time in seconds until the refresh token expires.",
                                        },
                                      "fuse_client_id_seq":
                                        {
                                          "type": ["string", "null"],
                                          "description": "Client ID sequence, can be null.",
                                        },
                                    },
                                  "example":
                                    {
                                      "access_token": "93019854-6B88-4997-9179-C1C50E7D2E9D",
                                      "expires_in": 3600,
                                      "token_type": "bearer",
                                      "refresh_token": "2495C12E-AFFA-40AD-8B91-61D7CEE3D5DC",
                                      "refresh_expires_in": 18000,
                                      "fuse_client_id_seq": null,
                                    },
                                },
                            },
                        },
                    },
                  "400":
                    {
                      "description": "Please provide correct username and password",
                    },
                  "404": { "description": "Could Not Find Resource" },
                },
            },
        },
      "/index.php/api/dakota":
        {
          "post":
            {
              "tags": ["Account"],
              "summary": "This API allows listing all account object records with options to filter, sort, and paginate the results.",
              "requestBody":
                {
                  "content":
                    {
                      "application/json":
                        {
                          "schema": { "type": "object" },
                          "examples":
                            {
                              "example1":
                                {
                                  "value":
                                    { "module": "account", "count_only": "1" },
                                  "summary": "Count Account object Records",
                                },
                              "example2":
                                {
                                  "value": { "module": "account" },
                                  "summary": "List of All Accounts with all fields",
                                },
                              "example3":
                                {
                                  "value":
                                    {
                                      "module": "account",
                                      "filters":
                                        {
                                          "fields":
                                            [
                                              "name",
                                              "createddate",
                                              "aum__c",
                                              "website",
                                            ],
                                          "order_by": "name:DESC",
                                          "max_num": "-1",
                                        },
                                    },
                                  "summary": "List of Accounts with specific fields passed in the fields array",
                                },
                              "example4":
                                {
                                  "value":
                                    {
                                      "module": "account",
                                      "filters":
                                        {
                                          "filter":
                                            [
                                              {
                                                "sfid":
                                                  {
                                                    "$equals": "0017600000cmqHcAAI",
                                                  },
                                              },
                                            ],
                                        },
                                    },
                                  "summary": "Filter By Account ID",
                                },
                              "example5":
                                {
                                  "value":
                                    {
                                      "module": "account",
                                      "filters":
                                        {
                                          "filter":
                                            [{ "type": { "$equals": "Bank" } }],
                                        },
                                    },
                                  "summary": "Filter By Account Type Equals Bank",
                                },
                              "example6":
                                {
                                  "value":
                                    {
                                      "module": "account",
                                      "filters":
                                        {
                                          "filter":
                                            [
                                              {
                                                "type":
                                                  {
                                                    "$not_equals": "Consultant",
                                                  },
                                              },
                                            ],
                                        },
                                    },
                                  "summary": "Filter By Account Type Not Equals Consultant",
                                },
                              "example7":
                                {
                                  "value":
                                    {
                                      "module": "account",
                                      "filters":
                                        {
                                          "filter":
                                            [
                                              {
                                                "$or":
                                                  [
                                                    {
                                                      "name":
                                                        { "$contains": "Test" },
                                                    },
                                                    {
                                                      "name":
                                                        { "$equals": "Test2" },
                                                    },
                                                  ],
                                              },
                                            ],
                                        },
                                    },
                                  "summary": "Filter By Account Name with OR Example",
                                },
                              "example8":
                                {
                                  "value":
                                    {
                                      "module": "account",
                                      "filters":
                                        {
                                          "filter":
                                            [
                                              {
                                                "$and":
                                                  [
                                                    {
                                                      "name":
                                                        {
                                                          "$equals": "Dakota QA 2",
                                                        },
                                                    },
                                                    {
                                                      "type":
                                                        {
                                                          "$equals": "Endowment",
                                                        },
                                                    },
                                                  ],
                                              },
                                            ],
                                        },
                                    },
                                  "summary": "Filter By Account Name and Type fields AND Example",
                                },
                              "example9":
                                {
                                  "value":
                                    {
                                      "module": "account",
                                      "filters":
                                        {
                                          "order_by": "name:DESC",
                                          "max_num": 50,
                                          "offset": 0,
                                          "filter":
                                            [
                                              {
                                                "aum__c":
                                                  { "$between": [100, 500000] },
                                              },
                                            ],
                                          "fields":
                                            [
                                              "sfid",
                                              "name",
                                              "lastmodifieddate",
                                              "aum__c",
                                            ],
                                        },
                                    },
                                  "summary": "Filter By AUM field between Operator",
                                },
                              "example10":
                                {
                                  "value":
                                    {
                                      "module": "account",
                                      "filters":
                                        {
                                          "order_by": "name:DESC",
                                          "max_num": 50,
                                          "offset": 0,
                                          "filter":
                                            [
                                              {
                                                "lastmodifieddate":
                                                  {
                                                    "$between":
                                                      [
                                                        "2025-01-01",
                                                        "2025-01-20",
                                                      ],
                                                  },
                                              },
                                            ],
                                          "fields":
                                            [
                                              "sfid",
                                              "name",
                                              "lastmodifieddate",
                                              "aum__c",
                                            ],
                                        },
                                    },
                                  "summary": "Filter By Last Modified Date field between Operator",
                                },
                              "example11":
                                {
                                  "value":
                                    {
                                      "module": "account",
                                      "filters":
                                        {
                                          "filter":
                                            [
                                              {
                                                "aum__c":
                                                  { "$gt": "$1,200,000" },
                                              },
                                            ],
                                        },
                                    },
                                  "summary": "Filter By AUM field greater than",
                                },
                              "example12":
                                {
                                  "value":
                                    {
                                      "module": "account",
                                      "filters":
                                        {
                                          "filter":
                                            [
                                              {
                                                "aum__c":
                                                  { "$gte": "1,000,000" },
                                              },
                                            ],
                                        },
                                    },
                                  "summary": "Filter By AUM field greater than equal to",
                                },
                              "example13":
                                {
                                  "value":
                                    {
                                      "module": "account",
                                      "filters":
                                        {
                                          "filter":
                                            [
                                              {
                                                "aum__c":
                                                  { "$lt": "1,000,000" },
                                              },
                                            ],
                                        },
                                    },
                                  "summary": "Filter By AUM field less than",
                                },
                              "example14":
                                {
                                  "value":
                                    {
                                      "module": "account",
                                      "filters":
                                        {
                                          "filter":
                                            [
                                              {
                                                "aum__c":
                                                  { "$lte": "1,000,000" },
                                              },
                                            ],
                                        },
                                    },
                                  "summary": "Filter By AUM field less than equal to",
                                },
                              "example15":
                                {
                                  "value":
                                    {
                                      "module": "account",
                                      "filters":
                                        {
                                          "filter":
                                            [
                                              {
                                                "createddate":
                                                  {
                                                    "$dateRange": "last_30_days",
                                                  },
                                              },
                                            ],
                                        },
                                    },
                                  "summary": "Filter By Created Date Range last_30_days",
                                },
                              "example17":
                                {
                                  "value":
                                    {
                                      "module": "account",
                                      "filters":
                                        {
                                          "filter":
                                            [
                                              {
                                                "name":
                                                  {
                                                    "$equals": 'Malcolm "Mac" Mayer',
                                                  },
                                              },
                                            ],
                                        },
                                    },
                                  "summary": "Single quotes will be escaped by adding a single qutoe twice",
                                },
                            },
                        },
                    },
                },
              "parameters":
                [
                  {
                    "name": "Oauth-Token",
                    "in": "header",
                    "schema": { "type": "string" },
                    "example": "{{access_token}}",
                  },
                ],
              "responses":
                {
                  "200":
                    {
                      "description": "Successful response",
                      "content": { "application/json": {} },
                    },
                  "401":
                    { "description": "Unauthorized to access the records" },
                  "403":
                    { "description": "You don't have access to this module" },
                  "404": { "description": "Could Not Find the Resource" },
                },
            },
        },
    },
}